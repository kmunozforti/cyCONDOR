<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>learnUMAP — learnUMAP • cyCONDOR</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="learnUMAP — learnUMAP"><meta name="description" content="Projects new samples on a UMAP calculated previously for a reference data set with the same parameters as the new sample. Before executing this function, runUMAP needs to be run with ret_model = TRUE for the reference data set."><meta property="og:description" content="Projects new samples on a UMAP calculated previously for a reference data set with the same parameters as the new sample. Before executing this function, runUMAP needs to be run with ret_model = TRUE for the reference data set."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">cyCONDOR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/cyCONDOR.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Prepare_data_for_cyCONDOR_analysis.html">Prepare data for cyCONDOR analysis</a></li>
    <li><a class="dropdown-item" href="../articles/How_to_run_cyCONDOR_as_container.html">How to run cyCONDOR as container</a></li>
    <li><a class="dropdown-item" href="../articles/Data_Loading_and_Transformation.html">Data Loading and Transformation</a></li>
    <li><a class="dropdown-item" href="../articles/Load_a_FlowJo_workspace.html">Load a FlowJo workspace</a></li>
    <li><a class="dropdown-item" href="../articles/Dimensionality_Reduction.html">Dimensionality Reduction</a></li>
    <li><a class="dropdown-item" href="../articles/Clustering_and_cell_annotation.html">Clustering and cell annotation</a></li>
    <li><a class="dropdown-item" href="../articles/Batch_correction.html">Batch correction</a></li>
    <li><a class="dropdown-item" href="../articles/Data_Visualization.html">Data Visualization</a></li>
    <li><a class="dropdown-item" href="../articles/Differential_Analysis.html">Differential Analysis with cyCONDOR</a></li>
    <li><a class="dropdown-item" href="../articles/Pseudotime_analysis.html">Pseudotime analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Data_Projection.html">Data Projection</a></li>
    <li><a class="dropdown-item" href="../articles/Machine_learning_classifier.html">Machine learning classifier</a></li>
    <li><a class="dropdown-item" href="../articles/Cell_type_prediction.html">Cell type prediction</a></li>
    <li><a class="dropdown-item" href="../articles/Other_utilities.html">Introduction to the condor object and other utilities</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>learnUMAP</h1>

      <div class="d-none name"><code>learnUMAP.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Projects new samples on a UMAP calculated previously for a reference data set with the same parameters as the new sample. Before executing this function, <code><a href="runUMAP.html">runUMAP</a></code> needs to be run with <code>ret_model = TRUE</code> for the reference data set.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">learnUMAP</span><span class="op">(</span></span>
<span>  <span class="va">fcd</span>,</span>
<span>  <span class="va">input_type</span>,</span>
<span>  <span class="va">data_slot</span>,</span>
<span>  nPC <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">fcd</span><span class="op">[[</span><span class="va">input_type</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="va">data_slot</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  markers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">fcd</span><span class="op">$</span><span class="va">expr</span><span class="op">[[</span><span class="va">data_slot</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>,</span>
<span>  discard <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">fcd_model</span>,</span>
<span>  nEpochs <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  prefix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  nThreads <span class="op">=</span> <span class="fl">32</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">91</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fcd">fcd<a class="anchor" aria-label="anchor" href="#arg-fcd"></a></dt>
<dd><p>Flow cytometry dataset for which the UMAP coordinates should be predicted.</p></dd>


<dt id="arg-input-type">input_type<a class="anchor" aria-label="anchor" href="#arg-input-type"></a></dt>
<dd><p>Data to use for the calculation of the UMAP, e.g. <code>expr</code> or <code>pca</code>. This should be the same which has been used for calculating the UMAP of the reference data set.</p></dd>


<dt id="arg-data-slot">data_slot<a class="anchor" aria-label="anchor" href="#arg-data-slot"></a></dt>
<dd><p>Name of the <code>input_type</code> data slot to use e.g. <code>orig</code>, if no prefix was added. This should be the same which has been used for calculating the UMAP of the reference data set.</p></dd>


<dt id="arg-npc">nPC<a class="anchor" aria-label="anchor" href="#arg-npc"></a></dt>
<dd><p>Number of PCs used for the UMAP Projection. Default = All. The number of PCs should be the same used for calculating the UMAP of the reference data set. Check the UMAP name of your reference data set e.g. using <code>fcd_model$umap$your_umap_name</code>.</p></dd>


<dt id="arg-markers">markers<a class="anchor" aria-label="anchor" href="#arg-markers"></a></dt>
<dd><p>Vector of marker names to include or exclude from UMAP projection according to the discard parameter. The markers should be the same used for calculating the UMAP of the reference data set. Use the function <code><a href="used_markers.html">used_markers</a></code> to check which markers were used to calculate the UMAP of your <code>fcd_model</code>.  .</p></dd>


<dt id="arg-discard">discard<a class="anchor" aria-label="anchor" href="#arg-discard"></a></dt>
<dd><p>LOGICAL to decide if the markers specified should be included, "F", or excluded, "T", from the UMAP projection. Default = F.</p></dd>


<dt id="arg-fcd-model">fcd_model<a class="anchor" aria-label="anchor" href="#arg-fcd-model"></a></dt>
<dd><p>Flow cytometry reference data set containing data associated with an existing embedding in <code>fcd_model$extras</code>.</p></dd>


<dt id="arg-nepochs">nEpochs<a class="anchor" aria-label="anchor" href="#arg-nepochs"></a></dt>
<dd><p>Number of epochs to use during the optimization of the embedded coordinates. A value between 30 - 100 is a reasonable trade off between speed and thoroughness. By default, this value is set to one third the number of epochs used to build the model.</p></dd>


<dt id="arg-prefix">prefix<a class="anchor" aria-label="anchor" href="#arg-prefix"></a></dt>
<dd><p>Prefix for the name of the dimensionality reduction.</p></dd>


<dt id="arg-nthreads">nThreads<a class="anchor" aria-label="anchor" href="#arg-nthreads"></a></dt>
<dd><p>Number of threads to use, (except during stochastic gradient descent). By default <code>nThreads = 32</code>.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>A seed is set for reproducibility.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>learnUMAP()</code> returns a <code>fcd</code> with the predicted UMAP coordinates saved in <code>fcd$umap$expr_orig</code>, if no <code>prefix</code> was set.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>learnUMAP</p>
<p><code>learnUMAP()</code> uses <code><a href="https://jlmelville.github.io/uwot/reference/umap_transform.html" class="external-link">umap_transform</a></code> to project new samples contained in <code>fcd</code> on the embedding previously calculated in a reference data set, <code>fcd_model</code>, using <code><a href="runUMAP.html">runUMAP</a></code>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lorenzo Bonaguro, Charlotte Kroeger, Sophie Mueller, Jacqueline Leidner, Aleksej Frolov, Francesco Elli, Nico Henschel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

